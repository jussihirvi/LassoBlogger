<?LassoScript //>var('fromMetoRoot') = '../';Include('../config.lasso');Include('../gen/session.inc');Library('../inc/library.inc');var('myStylesheet') = 'admin.css';var('myInc') = 'inc/';var('myImages') = 'images/';// init the basic options datatypevar('basicOptions') = LB_basicOptions;var('menu')  = $fromMetoRoot + $myInc + 'adminmenu.lasso';var('footer')= $fromMetoRoot + $myInc + 'adminfooter.inc';// some values here override those in config.lassovar('contents')= $fromMetoRoot + 'gen/adminpage_monster.inc';If( $lang == 'fi');var('page_title')='Tiedostokategoriat';Else;var('page_title')='File Categories';/If;var('pageSecuritylevel') = Integer(LB_GetOption('fileupload_minlevel')); var('rectype_en') = 'file category';var('rectype_en_part') = 'file categories';var('rectype_fi') = 'tiedostokategoria';var('rectype_fi_part') = 'tiedostokategorioita';var('myTable')='uploadcats';var('viewtype') = 'listview'; // formview, listviewvar('maxrecords_formview') = 1;   var('maxrecords_listview') = 25;   var('dbtype') = 'mysql';   // fmp, mysql (vaikuttaa pvm-k‰sittelyynvar('updatebehavior') = 1;   // 1 or 2 (see below)// behavior #1: search kept, updated rec shown only if search allows this// 		(keyvalue nulled after update)//		(good for listview)// behavior #2: search bypassed, only updated rec shown// 		(keyvalue kept, hakulomake emptied)//		(sopii formview-n‰kym‰‰n)var('searchBehavior') = 1;   // 1 or 2 (see below)// searchBehavior #1: if searchform is empty, then find all// searchBehavior #2: if searchform is empty, then find nothingvar('action') = '';var('speakBubble') = '';var('keyvalue')=Action_Param('keyvalue');var('skip')=Action_Param('skip');var('haku')=Action_Param('haku');var('size1default')='50'; // default text size, textarea colsvar('size2default')='4';  // default textarea rows)var('publicPage')=''; // don't comment outvar('defaultClass')='pieni'; // normaalisti "pieni" // for how to use $searchFields and $editFields, see the beginning of adminpage_monster.incvar('searchFields')=Array(Array('ID','ID','hidden','','','','','','','','eq'),);// SPECIAL code to be inserted to editFields & processed when showin recsvar('files_temp') = "[var('catid'=Field('id'))]    [Inline(-search,$dbConfig, -table=$table_prefix + 'uploads',    -KeyField='id','upl_catid'=Field('id'))]    <A HREF=\"upl-fileedit.lasso?upl_catid=[$catid]\">    [Found_Count]</A>    [/Inline]";var('categ_temp') = "[Var('myid'=Field('id'))][Inline(-findall,$dbConfig,      -table=$table_prefix + 'uploadcats',    -Op='eq',    'upc_parent'='',    -Sortfield='upc_name')]	<select name=\"upc_parent\" size=\"1\">		<option value=\"\">-- None</option>	    [Records]	    [If( Field('id') != $myid)]		<option value=\"[Field('id')]\"[If( $fieldvalue == 		  Field('id'))] SELECTED[/If]>[Field('upc_name')]</option>	    [/If]	    [/Records]	</select>[/Inline]";// edit formvar('editFields')=Array(Array('id','ID','nosave','','10','',' ','',''),Array('upc_name','Private Name','textarea','req','100px','3','also sorting key','',''),Array('upc_nicename','Public Name','textarea','','100px','3','','',''),Array('upc_description','Decription','textarea','','150px','3','','',''),Array('upc_sortorder','Sorting of Files','select','','newestfirst;oldestfirst;alphabetical;custom','Newest first;Oldest first;Alphabetical;Custom','','',''),Array('id','Nr. of Files','nosave','','','','','',$files_temp),Array('upc_parent','Parent category','override','','8','','','',$categ_temp),);// add formvar('addFields')=Array(Array('id','ID','noentry','','10','','','',''),Array('upc_name','Name','text','req','15','','','',''),Array('upc_nicename','Nicename','text','','15','','','',''),Array('upc_description','Decription','textarea','','150px','3','','',''),Array('upc_sortorder','Sorting of Files','select','','newestfirst;oldestfirst;alphabetical;custom','Newest first;Oldest first;Alphabetical;Custom','','',''),);// define sorting for the main search inlinevar('sortstuff') = Array('-sortfield' = 'id','-sortorder' = 'descending');// constant values that will be added to each search; pair arrayvar( 'defaultSearch') = (Array);	// buttonlist: say 'yes' or 'no' to each itemvar('buttonlist') = Array('add'='yes','update'='yes','delete'='yes');// var('formTargetpage') = '';   // if target=self, comment this outvar('customValidations') = 'yes'; // delete validation 	// if yes, the associated include file must be in placevar('customPostprocess') = 'no';		    	// if not needed, comment this outInclude('../gen/frame_admin.inc');?>